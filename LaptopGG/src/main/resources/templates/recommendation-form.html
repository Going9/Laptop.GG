<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LAPTOP.GG</title>
    <link rel="stylesheet" th:href="@{/styles.css}">
</head>
<body>
<div class="container">
    <h1>예산과 사용 목적을 설정해주세요!</h1>
    <form th:action="@{/recommends}" th:object="${laptopRecommendationRequest}" method="post">
        <div class="form-group">
            <div class="label-input-group">
                <label for="budget">예산 입력: </label>
                <input type="number" min="0" max="10000000" step="100000" id="budget" th:field="*{budget}" oninput="updateBudgetDisplay()">
                <!-- 현재 예산 표시 -->
                <div id="budgetDisplay" style="margin-top: 5px; font-size: 0.9em; color: #555;">
                    현재 예산: 0원
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="label-input-group">
                <label for="weight">노트북 최대 무게 입력(KG): </label>
                <input type="number" min="0" max="10" step="0.1" id="weight" th:field="*{weight}" oninput="updateWeightDisplay()">
                <!-- 현재 무게 표시 -->
                <div id="weightDisplay" style="margin-top: 5px; font-size: 0.9em; color: #555;">
                    현재 무게: 1.0kg
                </div>
            </div>
        </div>

        <!-- 디스플레이 크기 선택 (체크박스) -->
        <div class="form-group">
            <label>디스플레이 크기 선택:</label>
            <div class="checkbox-group">
                <div class="checkbox-scrollable">
                    <!-- displaySizeList를 반복하여 체크박스를 생성 -->
                    <div th:each="displaySize : ${displaySizeList}" class="checkbox-item">
                        <input type="checkbox" th:id="${'displaySize_' + displaySize}" th:field="*{displaySize}" th:value="${displaySize}" />
                        <label th:for="${'displaySize_' + displaySize}" th:text="${displaySize + '인치'}"></label>
                    </div>
                </div>
            </div>
        </div>


        <!-- 목적 선택 (PurposeDetail) -->
        <div class="form-group">
            <div class="label-input-group">
                <label for="purpose">사용 목적:</label>
                <select id="purpose" name="purpose" th:field="*{purpose}">
                    <option value="OFFICE">사무용 노트북</option>
                    <option value="LONG_BATTERY">배터리가 오래가는 노트북</option>
                    <option value="OFFICE_LOL">사무용 + 롤(저사양게임) 노트북</option>
                    <option value="LIGHT_OFFICE">가벼운 사무용 노트북</option>
                    <option value="CREATOR">영상편집용 노트북</option>
                    <option value="LIGHT_GAMING">무게가 가벼운 게이밍 노트북</option>
                    <option value="MAINSTREAM_GAMING">메이플, 롤, 발로란트, 로아 등 주요 온라인 게임용 노트북</option>
                    <option value="HEAVY_GAMING">AAA, 스팀게임 용 고사양 노트북</option>
                </select>
            </div>
        </div>

        <!-- 제출 버튼 -->
        <div class="form-group">
            <button type="submit">추천받기</button>
        </div>
    </form>
</div>
</body>
<script>
    function updateBudgetDisplay() {
        const budgetInput = document.getElementById('budget');
        const budgetDisplay = document.getElementById('budgetDisplay');
        const value = budgetInput.value;

        if (!isNaN(value) && value !== '') {
            // 숫자를 쉼표로 포맷하고 텍스트 업데이트
            budgetDisplay.textContent = `현재 예산: ${Number(value).toLocaleString()}원`;
        } else {
            budgetDisplay.textContent = '현재 예산: 0원';
        }
    }

    function updateWeightDisplay() {
        const weightInput = document.getElementById('weight');
        const weightDisplay = document.getElementById('weightDisplay');
        const value = weightInput.value;

        if (!isNaN(value) && value !== '') {
            weightDisplay.textContent = `현재 무게: ${value}kg`;
        } else {
            weightDisplay.textContent = '현재 무게: 0kg';
        }
    }

    // 페이지 로드 시 초기화
    document.addEventListener('DOMContentLoaded', () => {
        updateBudgetDisplay();
        updateWeightDisplay();
    });
</script>
</html>
